<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/d3/4.7.2/d3.min.js"></script>


{% load static %}
<script src="{% static 'javascript/d3pie.min.js' %}"></script>
<script src="{% static 'javascript/rep.js' %}"></script>

<div class="container">
    {% if rep %}
    <div class="row" style="padding: 3vw 0vw">
        <div class="col">
            <div class="text-center">
                <img src="{{ rep.sources.img }}" alt="{{rep.basics.name}}" class="rounded"/>
            </div>
        </div>
        <div class="col">
            <h1 class="h1">{{ rep.basics.name }}</h1>
            <table>
                <tbody>
                <tr>
                    <th>Age:</th>
                    <td style="float: right;">
                        {{ rep.get_age }}
                        {% if rep.basics.death %}
                        <small class="alert-danger">(Status: Deceased)</small>
                        {% else %}
                        <small class="alert-success">(Status: Alive)</small>
                        {% endif %}
                    </td>
                </tr>
                <tr>
                    <th>Party:</th>
                    <td style="float: right;"> {{ rep.get_current_party }} </td>
                </tr>
                <tr>
                    <th>Position:</th>
                    <td style="float: right;">{{ rep.get_state }}-{{ rep.get_district }}</td>
                </tr>
                <tr>
                    <th>Years Served:</th>
                    <td style="float: right;">{{ rep.get_service }}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    {% else %}
    <p>Rep not found.</p>
    {% endif %}

    <div class="row">
        <div class="col">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <label class="input-group-text" for="billRelationSelect">Count Related Bills By Subject</label>
                </div>
                <select class="custom-select" id="billRelationSelect" onchange="displaySubject()">
                    <option selected>Choose...</option>
                    <option value="1">Sponsor</option>
                    <option value="2">Cosponsor</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div id="data-viz" class="text-center"></div>
        </div>
    </div>
</div>